<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Optimizer</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h2 class="sidebar-title">Stock Selection</h2>

            <!-- Stock Chips -->
            <div class="stock-chips" id="stockChips"></div>

            <!-- Add Stock Button -->
            <button class="add-stock-btn" id="addStockBtn">+ Add Stock</button>

            <!-- Dropdown -->
            <div class="stock-dropdown" id="stockDropdown" style="display: none;">
                <input type="text" class="search-input" id="searchInput" placeholder="Search stocks...">
                <div class="stock-list" id="stockList"></div>
            </div>

            <!-- Time Horizon -->
            <div class="control-group">
                <label class="control-label">Time Horizon</label>
                <select class="select-field" id="timeHorizon">
                    <option value="1">1 Month</option>
                    <option value="3">3 Months</option>
                    <option value="6">6 Months</option>
                    <option value="12" selected>1 Year</option>
                    <option value="24">2 Years</option>
                    <option value="60">5 Years</option>
                    <option value="120">10 Years</option>
                </select>
            </div>

            <!-- Investment Amount -->
            <div class="control-group">
                <label class="control-label">Investment Amount</label>
                <input type="number" class="input-field" id="investmentAmount" value="100000" min="1000" step="1000">
            </div>

            <!-- Risk Tolerance -->
            <div class="control-group">
                <label class="control-label">Risk Tolerance</label>
                <select class="select-field" id="riskTolerance">
                    <option value="conservative">Conservative</option>
                    <option value="moderate" selected>Moderate</option>
                    <option value="aggressive">Aggressive</option>
                </select>
            </div>

            <!-- Custom Date Range -->
            <div class="control-group">
                <label class="control-label">Custom Date Range (Optional)</label>
                <div class="date-inputs">
                    <input type="date" class="input-field" id="startDate" placeholder="Start Date">
                    <input type="date" class="input-field" id="endDate" placeholder="End Date">
                </div>
            </div>

            <!-- Optimize Button -->
            <button class="optimize-btn" id="optimizeBtn">Optimize Portfolio</button>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Loading -->
            <div class="loading-overlay" id="loadingOverlay" style="display: none;">
                <div class="loading-spinner"></div>
                <p>Analyzing portfolio...</p>
            </div>

            <!-- Metrics Cards -->
            <div class="metrics-row">
                <div class="metric-card metric-best">
                    <div class="metric-label">Best Stock</div>
                    <div class="metric-ticker" id="bestStock">--</div>
                    <div class="metric-value positive" id="bestGain">--</div>
                </div>
                <div class="metric-card metric-worst">
                    <div class="metric-label">Worst Stock</div>
                    <div class="metric-ticker" id="worstStock">--</div>
                    <div class="metric-value negative" id="worstLoss">--</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Expected Return</div>
                    <div class="metric-value" id="expectedReturn">--</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Sharpe Ratio</div>
                    <div class="metric-value" id="sharpeRatio">--</div>
                </div>
            </div>

            <!-- Main Chart -->
            <div class="chart-container">
                <h3 class="chart-title">Normalized Price Performance</h3>
                <div id="normalizedChart" class="chart"></div>
            </div>

            <!-- Portfolio Growth -->
            <div class="chart-container">
                <h3 class="chart-title">Portfolio Growth</h3>
                <div id="portfolioChart" class="chart"></div>
            </div>

            <!-- Two Column Charts -->
            <div class="chart-grid">
                <div class="chart-container">
                    <h3 class="chart-title">Efficient Frontier</h3>
                    <div id="frontierChart" class="chart"></div>
                </div>
                <div class="chart-container">
                    <h3 class="chart-title">Portfolio Allocation</h3>
                    <div id="allocationChart" class="chart"></div>
                </div>
            </div>

            <!-- Correlation Matrix -->
            <div class="chart-container">
                <h3 class="chart-title">Correlation Matrix</h3>
                <div id="correlationChart" class="chart"></div>
            </div>
        </main>
    </div>

    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <script src="js/api.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
